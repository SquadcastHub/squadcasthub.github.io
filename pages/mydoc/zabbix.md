---
title: Zabbix
tags: [integration, zabbix]
keywords: 
last_updated: 
summary: "Send events to Squadcast from Zabbix"
sidebar: mydoc_sidebar
permalink: docs/zabbix-integration-guide
folder: mydoc
---

This document will help you integrate Zabbix with Squadcast. 

[Zabbix](https://www.zabbix.com/) is a mature, enterprise-level platform that allows you to monitor large-scale IT environments comprising servers, networks, applications and services.
Route detailed monitoring alerts from Zabbix to the right users in Squadcast.

## How to integrate Zabbix with Squadcast

### In Squadcast: Using Zabbix as an Alert Source

**(1)** From the navigation bar on the left, select **Services**. Pick the applicable **Team** from the Team-picker on the top. Next, click on **Alert Sources** for the applicable Service

![](images/alert_source_1.png)

**(2)** Search for **Zabbix** from the Alert Source drop-down and copy the Webhook URL

![](images/zabbix_1.png)

{{site.data.alerts.yellow-note-i}}
<b>Important</b><br/><br/>
<p>For an Alert Source to turn active (indicated by a <b>green dot - Receiving alerts</b> against the name of the Alert Source in the drop-down), you can either generate a test alert or wait for a real-time alert to be generated by the Alert Source.</p>
<p>An Alert Source is active if there is a recorded incident via that Alert Source for the Service in the last 30 days.</p>
{{site.data.alerts.end}}

### In Zabbix: Create a Squadcast Webhook

**(1)** Navigate to Zabbix’s `AlertScriptsPath` directory. This is usually `/etc/zabbix/alert.d` or `/usr/local/share/zabbix/alertscripts`.
Check your `zabbix_server.conf` file to see how this option is configured.

**(2)** In this directory, run the following command:

```
sudo wget https://raw.githubusercontent.com/squadcastHub/squadcast-zabbix-script/master/sq-zabbix.py
```

Once the file is downloaded, ensure that it has *executable permissions for your Zabbix user*. If not then please provide the same using the following command:

```
chmod +x sq-zabbix.py
```

{{site.data.alerts.red-note}}
<b>Important</b>
<br/><br/><p>The Squadcast script for Zabbix requires Python 3 to be installed on the machine running Zabbix. Any other version of Python (other than Python 3) will not support this script.</p>
{{site.data.alerts.end}}

**(3)** Head over to the **Administration** tab and then click on **Media types**. Click on **Create Media type** to create a new Media Type with the following configuration

```
Name: Squadcast 
AlertType: Script
Script Name: sq-zabbix.py
Script Parameters:
    {ALERT.SENDTO}
    {ALERT.SUBJECT}
    {ALERT.MESSAGE}
```

Additionally, ensure **Enabled** checkbox is selected and then click on **Add**

![](images/zabbix_2.png)

**(4)** Now you can add this Media Type to any User/s of Zabbix. To do so, navigate to **Administration** tab and select **Users** from the drop-down. Here, select **Media** tab and click on **Add**

- *Type*: Either pick Squadcast or add a name, such as *Squadcast*
- *Send to*: Paste the copied Zabbix Webhook URL from Squadcast
- *When active*: Specify suitable values
- *Use if severity*: Select appropriate checkboxes
- Click on **Add** to save the Media for the User

![](images/zabbix_3.png)

**(5)** Make sure you click on **Update** button in the **Media** page to save these details

![](images/zabbix_4.png)

**(6)** Navigate to the **Configuration** tab and click on **Actions**. Click on **Create Action** and enter a meaningful name, such as **Squadcast Notifications**

![](images/zabbix_5.png)

**(7)** Switch to **Operations**" tab on the same page and configure the parameters as per your requirements 

![](images/zabbix_6.png)

Copy-paste the following in the ‘Default Message’ field: 

```yaml
name:{TRIGGER.NAME}
id:{TRIGGER.ID}
status:{TRIGGER.STATUS}
hostname:{HOSTNAME}
ip:{IPADDRESS}
value:{TRIGGER.VALUE}
event_id:{EVENT.ID}
severity:{TRIGGER.SEVERITY}
url:{TRIGGER.URL}
```

![](images/zabbix_7.png)

{{site.data.alerts.blue-note-md}}
**Note: Custom User Defined Variables**  

Users can define custom variables under **Default Message**. The variables can be added in the format mentioned below :

**{ "custom" : { "key" : "value" , . . . , "key" : "value" } }**

Replace the **[key]** & **[value]** with proper values and add at the end of the variables mentioned in **Step 7**.
{{site.data.alerts.end}}

{{site.data.alerts.blue-note-md}}
**Note: Custom User Defined Incident Message**  

Users can define custom Incident Message under **Default Message**. The variable can be added in the format mentioned below :

**CustomIncidentMessage:[IncidentMessage]**

Replace the **[IncidentMessage]** with proper values and add at the end of the variables mentioned in **Step 7**.
This is how it might look like : 

```yaml
name:{TRIGGER.NAME}
id:{TRIGGER.ID}
status:{TRIGGER.STATUS}
hostname:{HOSTNAME}
ip:{IPADDRESS}
value:{TRIGGER.VALUE}
event_id:{EVENT.ID}
severity:{TRIGGER.SEVERITY}
url:{TRIGGER.URL}
CustomIncidentMessage:{TRIGGER.NAME}
```
{{site.data.alerts.end}}

**(8)** Similarly, switch to **Recovery operations** tab and configure the following: 
Copy-paste the following in the ‘Default Message’ field:

```yaml
name:{TRIGGER.NAME}
id:{TRIGGER.ID}
status:{TRIGGER.STATUS}
hostname:{HOSTNAME}
ip:{IPADDRESS}
value:{TRIGGER.VALUE}
event_id:{EVENT.ID}
severity:{TRIGGER.SEVERITY}
url:{TRIGGER.URL}
```

![](images/zabbix_8.png)

**(9)** Finally click on **Add** to save **Squadcast Notifications**

That's it, our Zabbix integration is now good to go! Whenever Zabbix fires an alert, an incident is created in Squadcast for the same.

{{site.data.alerts.blue-note}}
<b>FAQ: </b>
<br/><br/><p>Q: If an alert gets resolved in Zabbix, does Zabbix send auto-resolve signals to Squadcast?<br/><br/>
A: Yes, Zabbix sends alert auto-resolve signals to Squadcast, thus supporting auto-resolution of incidents in Squadcast.
</p>
{{site.data.alerts.end}}

{{site.data.alerts.blue-note}}
<b>Important</b>
<br/><br/><p>The user whose <b>media</b> is configured to send alerts to Squadcast must belong to a <b>user-group</b> having read permission on the <b>Host Group</b> which needs to be monitored by Squadcast inorder to send the alerts.</p>
{{site.data.alerts.end}}

## How-to: Zabbix Integration

<script src="https://fast.wistia.com/embed/medias/ca7wssflfv.jsonp" async></script><script src="https://fast.wistia.com/assets/external/E-v1.js" async></script><div class="wistia_responsive_padding" style="padding:49.58% 0 0 0;position:relative;"><div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;"><span class="wistia_embed wistia_async_ca7wssflfv popover=true popoverAnimateThumbnail=true videoFoam=true" style="display:inline-block;height:100%;position:relative;width:100%">&nbsp;</span></div></div>

<style>.btttn:hover{box-shadow: 0 10px 20px 0 rgba(15,97,221,.25); transform: translate(0,-2px);}</style><div style="height: 100%;width: 100%;display: flex;margin-top: 40px;"><div style="margin: auto;"><div style="height: 100%;width: 100%;display: flex;padding: 20px;border: 1px solid #e7e9ed;border-radius: 8px;"><div style="margin: auto;"><div style="text-align: center;padding-bottom: 20px;font-size: 18px;line-height: 24px;font-family: Metropolis, sans-serif;color: #0d2149;">Ready to try Squadcast?</div><a href="https://www.squadcast.com/register" class="btttn" target="_blank" style="margin-right: 0;text-decoration: none;border-radius: 6px;background-color: #0f61dd;font-family: Metropolis,sans-serif;color: #fff;padding-top: 0;padding-bottom: 0;border-bottom: 1px solid transparent;-webkit-transition: all .1s ease-in-out;font-family: Metropolis,sans-serif;font-size: 13px;color: #0d2149;line-height: 22px;font-weight: 500;display: inline-block;color: #fff;padding: 15px;text-align: left;margin-left: auto;margin-right: auto;max-width: 1200px;transition: all .2s ease-in-out;" rel="noreferrer noopener">Start Now For Free!</a>   <a href="#" id="sd1" class="btttn" style="margin-right: 0;text-decoration: none;border-radius: 6px;background-color: #fff;font-family: Metropolis,sans-serif;color: #0f61dd;padding-top: 0;padding-bottom: 0;border-bottom: 1px solid transparent;-webkit-transition: all .1s ease-in-out;font-family: Metropolis,sans-serif;font-size: 13px;color: #0d2149;line-height: 22px;font-weight: 500;display: inline-block;color: #0f61dd;padding: 15px;text-align: left;margin-left: auto;margin-right: auto;max-width: 1200px;border: 1px solid #0f61dd;margin-left: 20px;transition: all .2s ease-in-out;" rel="noreferrer noopener">Schedule a Demo</a></div></div></div></div>